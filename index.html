<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Rock Paper Scissors</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="results">
            <h2 id="winnerResult"></h2>
            <h2 id="resultText"></h2>
            <h3 id="playerScore">Player Score: 0</h3>
            <h3 id="computerScore">Computer Score: 0</h3>
        </div>

        <div class="playerChoices">
            <button onclick="playRound(getComputerChoice(), 'rock')">Rock</button>
            <button onclick="playRound(getComputerChoice(), 'paper')">Paper</button>
            <button onclick="playRound(getComputerChoice(), 'scissors')">Scissors</button>
        </div>
    </div>

    <script>
        let playerTrack = 0;
        let computerTrack = 0;

        function showResult (textToShow, playerWin){
            document.getElementById("winnerResult").innerText=('');
            document.getElementById("resultText").innerText=(textToShow);
            if(playerWin)
                document.getElementById("playerScore").innerText=(`Player Score: ${++playerTrack}`);
            else if (playerWin === false)
                document.getElementById("computerScore").innerText=(`Computer Score: ${++computerTrack}`);

            if(playerTrack == 5 || computerTrack == 5){
                
                if(playerTrack == 5)
                    document.getElementById("winnerResult").innerText=('Player Wins the round!');
                
                if(computerTrack == 5)
                    document.getElementById("winnerResult").innerText=('Computer Wins the round!');
                
                playerTrack = 0;
                computerTrack = 0;
                document.getElementById("playerScore").innerText=(`Player Score: ${playerTrack}`);
                document.getElementById("computerScore").innerText=(`Computer Score: ${computerTrack}`);
            }

            
        }

        function getComputerChoice () {
            let choices = ['rock', 'paper', 'scissors'];
            return choices[Math.floor(Math.random() * choices.length)];
        }

        function getPlayerChoice () {
            let selectedChoice = '';
            do {
                selectedChoice = prompt('Please select rock, paper or scissors');
                selectedChoice.toLowerCase();
            } while ((selectedChoice !== 'rock') && (selectedChoice !== 'paper') && (selectedChoice !== 'scissors'));
            return selectedChoice;
        }

        function playRound (getComputerChoice, getPlayerChoice) {
            let userWinOrLose;
            if (getComputerChoice === getPlayerChoice)
                showResult('Tie!');
            if (getComputerChoice === 'rock'){
                if (getPlayerChoice === 'paper'){
                    showResult('You win! paper beats rock', true);
                }
                if (getPlayerChoice === 'scissors'){
                    showResult('You lose! rock beats scissors', false);
                }
            }
            if (getComputerChoice === 'paper'){
                if (getPlayerChoice === 'scissors'){
                    showResult('You win! scissors beat paper', true);
                }
                if (getPlayerChoice === 'rock'){
                    showResult('You lose! paper beats rock', false);
                }
            }
            if (getComputerChoice === 'scissors'){
                if (getPlayerChoice === 'rock'){
                    showResult('You win! rock beats scissors', true);
                }
                if (getPlayerChoice === 'paper'){
                    showResult('You lose! scissors beat paper', false);
                }
            }
            return userWinOrLose;
        }

        /*function game () {
            let whoWon;
            let playerTrack = 0;
            let computerTrack = 0;
            for (let i=0; i<5; i++){
                whoWon = playRound(getComputerChoice(), getPlayerChoice());
                if (whoWon === 0)
                    playerTrack++;
                if (whoWon === 1)
                    computerTrack++;
            }
            if (playerTrack === computerTrack)
                return showResult('Tie!');
            if (playerTrack > computerTrack)
                return showResult('Player wins!');
            else
                return showResult('Computer wins!');
        }
        
        game();*/
    </script>
</body>
</html>